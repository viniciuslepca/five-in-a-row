(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{55:function(e,t,a){e.exports=a(56)},56:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),i=a(32),s=a(20),l=a(21),c=a(23),o=a(22),u=a(0),m=a.n(u),d=a(10),p=a.n(d),h=a(34),v=a(35),f=a(54),g=a(53),y=a(33),b=a.n(y),E=(a(94),a(95),a(96)),k=b()("https://five-in-a-row-game.herokuapp.com");k.disconnected&&(k=b()("http://localhost:5000"));var P=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).setActivePage=function(e){n.setState({activePage:e})},n.renderActivePage=function(){switch(n.state.activePage){case n.state.pages.PLAY:return m.a.createElement(w,null);case n.state.pages.RULES:return m.a.createElement(S,null);default:return null}};var r={PLAY:"Play",RULES:"Rules"};return n.state={activePage:r.PLAY,pages:r},n}return Object(l.a)(a,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement(_,{pages:this.state.pages,setActivePage:this.setActivePage}),this.renderActivePage())}}]),a}(m.a.Component);function w(){return m.a.createElement("div",{className:"game"},m.a.createElement(O,null))}var O=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e))._isMounted=!1,n.restartGame=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.emit("reset_game");case 1:case"end":return e.stop()}}),e)}))),n.updateState=function(e){if(n._isMounted){var t=JSON.parse(e);n.setState({boardData:t.board_data,winner:t.winner,userTurn:t.user_turn,userStone:t.user_stone,numPlayers:t.num_players})}},n.handleCellClick=function(){var e=Object(i.a)(r.a.mark((function e(t,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===n.state.winner&&null===n.state.boardData[t][a].cellState&&k.emit("make_play",t,a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.renderBoard=function(e,t,a){return m.a.createElement("div",{id:"board",className:"center-content"},e.map((function(e){return e.map((function(r){return m.a.createElement("div",{key:r.x*e.length+r.y},m.a.createElement(j,{onClick:function(){return n.handleCellClick(r.x,r.y)},value:r,isPlayerTurn:t,isGameOver:a}),e[e.length-1]===r?m.a.createElement("div",{className:"clear"}):"")}))})))},n.renderMessage=function(e,t){var a="";return a=e?n.state.winner===k.id?"Congratulations, you won the game!":"You lost the game :(":t?"It's your turn! Playing "+n.state.userStone:"Waiting for the other player...",m.a.createElement("div",{className:"center-content"},m.a.createElement("p",null,a))},n.renderRestartButton=function(e){return e?m.a.createElement("div",{className:"center-content"},m.a.createElement(g.a,{onClick:n.restartGame},"Restart Game")):null},n.state={boardData:null,winner:null,userTurn:null,userStone:null,numPlayers:null},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,k.on("connect_error",(function(){e._isMounted&&e.setState({boardData:void 0})})),k.on("update_board",this.updateState),k.emit("get_board",this.updateState)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){if(null===this.state.boardData)return null;if(void 0===this.state.boardData)return m.a.createElement("div",{className:"center-content"},m.a.createElement("p",null,"It seems like there already are 2 players connected."));if(1===this.state.numPlayers)return m.a.createElement("div",{className:"center-content"},m.a.createElement("p",null,"Waiting for a second player to connect."));var e=null!==this.state.winner,t=k.id===this.state.userTurn;return m.a.createElement("div",null,this.renderMessage(e,t),this.renderRestartButton(e),this.renderBoard(this.state.boardData,t,e))}}]),a}(m.a.Component),j=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=!this.props.isGameOver&&this.props.isPlayerTurn&&null===this.props.value.cellState;return m.a.createElement("div",{className:"cell"+(e?" active":""),onClick:this.props.onClick},this.props.value.cellState)}}]),a}(m.a.Component);function S(){return m.a.createElement("div",{id:"rules-body"},m.a.createElement(f.a,{src:E,style:{height:400}}),m.a.createElement("p",null,"Gomoku, also called Five in a Row, is an abstract strategy board game. It is traditionally played with Go pieces (black and white stones) on a Go board. Players alternate turns placing a stone of their color on an empty intersection. The winner is the first player to form an unbroken chain of five stones horizontally, vertically, or diagonally."))}function _(e){return m.a.createElement(h.a,{bg:"light",variant:"light"},m.a.createElement(h.a.Brand,{href:"#home"},"Five in a Row"),m.a.createElement(v.a,{className:"mr-auto",defaultActiveKey:e.pages.PLAY,onSelect:function(t){return e.setActivePage(t)}},Object.keys(e.pages).map((function(t){var a=e.pages[t];return m.a.createElement(v.a.Link,{key:a,eventKey:a},a)}))))}p.a.render(m.a.createElement(P,null),document.getElementById("root"))},91:function(e,t){},94:function(e,t,a){},96:function(e,t,a){e.exports=a.p+"static/media/game.ecfa66ef.jpg"}},[[55,1,2]]]);
//# sourceMappingURL=main.d8a8542f.chunk.js.map